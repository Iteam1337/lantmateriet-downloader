const { downloadUrls } = require('./download')
const dotenv = require('dotenv').config()
const orderId = process.argv.slice(2)[0] || process.env.ORDER_ID
const orderKey = process.argv.slice(2)[1] || process.env.ORDER_KEY


const productId = 2511
const kommuner = ['1460', '0114', '0482', '0584', '2523', '1435', '1440', '2518', '0582', '1880', '1980', '1983', '0861', '1281', '1266', '0180', '2101', '1499', '1486', '1487', '1488', '1489', '2313', '0140', '0686', '1781', '1407', '0319', '1881', '1761', '1883', '1884', '1214', '0127', '1461', '1462', '0138', '2305', '0128', '0125', '0488', '2425', '2303', '0126', '0123', '0486', '2422', '0484', '2421', '1473', '1231', '2309', '1452', '1230', '1472', '0381', '2560', '1471', '0382', '1470', '0380', '0139', '0136', '1466', '1465', '1463', '1907', '1904', '1484', '1482', '1481', '1480', '0821', '2326', '1233', '2321', '2584', '0163', '2463', '1495', '2583', '2462', '1494', '2582', '1493', '2581', '0162', '2460', '1492', '2580', '1491', '0160', '1490', '1485', '0834', '1264', '1263', '1384', '1383', '1262', '1382', '1261', '1381', '1260', '1380', '0840', '2104', '1257', '1256', '1498', '1497', '1814', '0604', '1496', '2121', '1275', '1272', '2361', '0183', '1273', '0186', '1265', '1267', '2480', '0182', '1270', '2481', '0181', '2482', '0184', '0860', '0862', '0191', '1280', '0192', '1282', '1283', '1284', '1285', '2132', '1286', '0617', '2260', '1292', '1293', '2262', '2021', '2023', '1715', '0509', '0188', '1276', '0980', '0187', '1277', '1278', '0513', '0512', '1290', '1291', '2380', '2029', '0765', '1060', '2031', '2034', '1287', '1960', '1961', '1962', '0642', '2026', '1730', '0761', '0882', '0764', '0885', '0643', '0763', '0884', '2161', '2283', '2284', '0780', '0767', '1737', '0760', '0881', '0880', '0883', '2282', '1863', '1984', '2039', '1864', '2280', '2281', '1862', '1982', '1861', '1860', '1981', '1080', '1082', '1083', '0428', '0781', '0662', '0665', '1081', '2182', '2061', '2183', '2062', '2184', '0560', '0680', '2180', '0305', '2181', '1885', '1401', '1764', '1402', '1765', '1766', '1763', '1762', '1760', '1882', '1780', '1415', '0685', '0563', '0684', '0687', '0682', '0683', '0561', '0461', '0581', '2080', '2081', '2505', '2506', '1419', '0562', '2510', '1785', '2513', '2514', '2082', '2083', '2084', '2085', '0580', '1782', '0331', '1783', '0330', '1421', '1784', '1427', '2404', '1315', '2403', '2409', '1430', '0583', '0586', '2521', '2401', '1438', '1439', '1447', '0117', '0360', '0481', '0480', '0483', '0120', '2417', '2418', '1441', '1442', '1443', '1444', '1445', '0115', '1446']
const getUrl = kommunId => `https://download.lantmateriet.se/produkter/lm/fr/belagenhetsadress/6866/${orderKey}/${orderId}_${productId}.belagenhetsadress.${kommunId}.zip`

const urls = kommuner.map(getUrl)
downloadUrls(urls).subscribe(console.log)

